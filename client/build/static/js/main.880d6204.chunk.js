(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,c,t){"use strict";t.r(c);var s=t(0),a=t(1),l=t.n(a),r=t(20),i=t.n(r),n=t(16),o=t(2),j=t(4),m=t(5),h=t(7),d=t(6),b=function(e){Object(h.a)(t,e);var c=Object(d.a)(t);function t(){return Object(j.a)(this,t),c.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return Object(s.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(s.jsxs)("div",{className:"container-fluid d-flex align-items-center justify-content-between",children:[Object(s.jsxs)("div",{className:"navbar-header",children:[Object(s.jsxs)("a",{href:"index.html",className:"navbar-brand",children:[Object(s.jsxs)("div",{className:"brand-text brand-big visible text-uppercase",children:[Object(s.jsx)("strong",{className:"text-primary",children:"Auto"}),Object(s.jsx)("strong",{children:"Search"})]}),Object(s.jsx)("div",{className:"brand-text brand-sm",children:Object(s.jsx)("strong",{className:"text-primary",children:"Auto"})})]}),Object(s.jsx)("button",{className:"sidebar-toggle",children:Object(s.jsx)("i",{className:"fa fa-long-arrow-left"})})]}),Object(s.jsxs)("div",{className:"right-menu list-inline no-margin-bottom",children:[Object(s.jsx)("div",{className:"list-inline-item",children:Object(s.jsx)("a",{href:"#",children:"About"})}),Object(s.jsx)("div",{className:"list-inline-item",children:Object(s.jsx)("a",{href:"#",children:"Contact"})}),Object(s.jsx)("div",{className:"list-inline-item",children:Object(s.jsx)("a",{href:"https://github.com/ianargyle1/AutomotiveSearch",target:"_blank",children:"GitHub"})})]})]})})}}]),t}(l.a.Component),p=t(22),u=t(13),O=t.n(u),x=function(e){Object(h.a)(t,e);var c=Object(d.a)(t);function t(){var e;Object(j.a)(this,t);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(e=c.call.apply(c,[this].concat(a))).state={zip:O.a.get("autosearch_zip")},e.handleSubmit=function(c){c.preventDefault();var t=new FormData(c.target),s=Object.fromEntries(Object(p.a)(t.entries()).filter((function(e){return""!==e[1]})));e.props.history.push({pathname:"/search",state:{searchParams:s}})},e}return Object(m.a)(t,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"block search",children:[Object(s.jsx)("div",{className:"title",children:Object(s.jsx)("strong",{className:"d-block",children:"Search"})}),Object(s.jsx)("div",{className:"block-body",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-sm-6",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Make"}),Object(s.jsxs)("select",{name:"make",className:"form-control mb-3",children:[Object(s.jsx)("option",{children:"Chevrolet"}),Object(s.jsx)("option",{children:"dsfjjjjjgjskjdjfl"}),Object(s.jsx)("option",{children:"Cadillac"}),Object(s.jsx)("option",{children:"Ford"}),Object(s.jsx)("option",{children:"Dodge"})]}),Object(s.jsx)("label",{className:"form-control-label",children:"Model"}),Object(s.jsxs)("select",{name:"model",className:"form-control mb-3",children:[Object(s.jsx)("option",{children:"Camaro"}),Object(s.jsx)("option",{children:"Corvette"}),Object(s.jsx)("option",{children:"Impala"}),Object(s.jsx)("option",{children:"Chevelle"})]}),Object(s.jsx)("label",{className:"form-control-label",children:"Location"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"zip",type:"zip",placeholder:"Zip code",value:this.state.zip,className:"form-control"})}),Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsxs)("select",{name:"miles",className:"form-control mb-3",children:[Object(s.jsx)("option",{value:"50",children:"50 Miles"}),Object(s.jsx)("option",{value:"100",children:"100 Miles"}),Object(s.jsx)("option",{value:"200",children:"200 Miles"}),Object(s.jsx)("option",{value:"300",children:"300 Miles"}),Object(s.jsx)("option",{value:"400",children:"400 Miles"}),Object(s.jsx)("option",{value:"12450",children:"500+ Miles"})]})})]})]}),Object(s.jsxs)("div",{className:"col-sm-6",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Year"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"yearFrom",type:"text",placeholder:"From",className:"form-control"})}),Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"yearTo",type:"text",placeholder:"To",className:"form-control"})})]}),Object(s.jsx)("label",{className:"form-control-label",children:"Mileage"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"mileageFrom",type:"text",placeholder:"From",className:"form-control"})}),Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"mileageTo",type:"text",placeholder:"To",className:"form-control"})})]}),Object(s.jsx)("label",{className:"form-control-label",children:"Price"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"priceFrom",type:"text",placeholder:"From",className:"form-control"})}),Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"priceTo",type:"text",placeholder:"To",className:"form-control"})})]})]})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Search",className:"btn btn-primary"})})]})})]})}}]),t}(l.a.Component),v=Object(o.e)(x),f=function(e){Object(h.a)(t,e);var c=Object(d.a)(t);function t(){var e;Object(j.a)(this,t);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(e=c.call.apply(c,[this].concat(a))).bgColor=function(){var c=e.props.undervalue/e.props.price>.15?.15:e.props.undervalue/e.props.price<-.15?0:e.props.undervalue/e.props.price;console.log(c);var t=(c+.15)/.3*120;return console.log(t),{backgroundColor:"hsl("+t+", 54%, 43%)"}},e.normVal=function(){var c=" Under",t=e.props.undervalue;return t<0&&(c=" Over",t*=-1),t?t.toLocaleString()+c:"Error"},e}return Object(m.a)(t,[{key:"render",value:function(){return Object(s.jsx)("span",{style:this.bgColor(),className:"underval",children:Object(s.jsxs)("strong",{children:["$",this.normVal()]})})}}]),t}(l.a.Component),N=function(e){Object(h.a)(t,e);var c=Object(d.a)(t);function t(){var e;Object(j.a)(this,t);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(e=c.call.apply(c,[this].concat(a))).openLink=function(){var c=window.open(e.props.vehicle.link,"_blank");null!=c&&c.focus()},e}return Object(m.a)(t,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"col-sm-3",children:Object(s.jsxs)("div",{className:"block vehicle-small",onClick:this.openLink,children:[Object(s.jsx)("img",{src:this.props.vehicle.img,className:"img-fluid"}),Object(s.jsx)("div",{className:"mt-1",children:Object(s.jsx)("h3",{children:this.props.vehicle.title})}),Object(s.jsxs)("span",{children:["$",this.props.vehicle.price.toLocaleString(),Object(s.jsx)(f,{undervalue:this.props.vehicle.undervalue,price:this.props.vehicle.price})]}),Object(s.jsxs)("div",{className:"mt-1",children:[this.props.vehicle.mileage.toLocaleString()," Miles"]})]})})}}]),t}(l.a.Component),g=function(e){var c=Object.entries(e).map((function(e){return""!=e[1]?e[0]+"="+e[1]:""})).filter(Boolean).join("&");return new Promise((function(e,t){fetch("http://localhost:3000/api/vehicles?"+c).then((function(e){return e.json()})).then((function(c){return e(c)}))}))},y=function(e,c,t){return Object.entries(e).sort((function(e,s){return e[1][c]&&s[1][c]?t?s[1][c]-e[1][c]:e[1][c]-s[1][c]:e[1][c]?-1:1}))},k=function(e){Object(h.a)(t,e);var c=Object(d.a)(t);function t(){var e;Object(j.a)(this,t);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(e=c.call.apply(c,[this].concat(a))).state={vehicles:[]},e.componentWillMount=function(){var c=O.a.get("autosearch_zip");g({zip:c||"90017",titleType:"Clean"}).then((function(c){e.setState({vehicles:y(c,"undervalue",!0).slice(0,8)})}))},e}return Object(m.a)(t,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Deals near you"}),Object(s.jsx)("div",{className:"row",children:this.state.vehicles.length>0?this.state.vehicles.map((function(e){return Object(s.jsx)(N,{vehicle:{title:e[1].makeYear+" "+e[1].make+" "+e[1].model+(e[1].trim?" "+e[1].trim:""),img:e[1].img,mileage:e[1].mileage,price:e[1].price,undervalue:e[1].undervalue,link:e[1].link}})})):Object(s.jsx)("div",{style:{width:"100%"},children:Object(s.jsx)("h4",{className:"text-center",children:"Loading..."})})})]})}}]),t}(l.a.Component),w=function(e){Object(h.a)(t,e);var c=Object(d.a)(t);function t(){return Object(j.a)(this,t),c.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return Object(s.jsxs)("section",{children:[Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)(v,{})}),Object(s.jsx)(k,{})]})}}]),t}(l.a.Component),P=function(e){Object(h.a)(t,e);var c=Object(d.a)(t);function t(){var e;Object(j.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=c.call.apply(c,[this].concat(l))).state={vehicles:[]},e.componentWillMount=function(){g(e.props.location.state.searchParams).then((function(c){return e.setState({vehicles:y(c,"undervalue",!0)})}))},e.resort=function(c){var t={unvervalue_dec:{by:"undervalue",dec:!0},unvervalue_asc:{by:"undervalue",dec:!1},price_dec:{by:"price",dec:!0},price_asc:{by:"price",dec:!1},year_dec:{by:"makeYear",dec:!0},year_asc:{by:"makeYear",dec:!1},mileage_dec:{by:"mileage",dec:!0},mileage_asc:{by:"mileage",dec:!1}};t[c.target.value]&&e.setState({vehicles:y(Object.fromEntries(e.state.vehicles),t[c.target.value].by,t[c.target.value].dec)})},e.renderVehicles=function(){return Object(s.jsx)("p",{children:"help"})},e}return Object(m.a)(t,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"block search-head",children:[Object(s.jsx)("div",{className:"title",children:Object(s.jsx)("strong",{className:"d-block",children:"Search"})}),Object(s.jsx)("div",{className:"block-body",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-sm-3",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Make"}),Object(s.jsxs)("select",{name:"make",className:"form-control",value:this.props.location.state.searchParams.make?this.props.location.state.searchParams.make:"Any",children:[Object(s.jsx)("option",{children:"Chevrolet"}),Object(s.jsx)("option",{children:"dsfjjjjjgjskjdjfl"}),Object(s.jsx)("option",{children:"Cadillac"}),Object(s.jsx)("option",{children:"Ford"}),Object(s.jsx)("option",{children:"Dodge"})]})]}),Object(s.jsxs)("div",{className:"col-sm-3",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Model"}),Object(s.jsxs)("select",{name:"model",className:"form-control",value:this.props.location.state.searchParams.model?this.props.location.state.searchParams.model:"Any",children:[Object(s.jsx)("option",{children:"Camaro"}),Object(s.jsx)("option",{children:"Corvette"}),Object(s.jsx)("option",{children:"Impala"}),Object(s.jsx)("option",{children:"Chevelle"})]})]}),Object(s.jsxs)("div",{className:"col-sm-3",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Location"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"zip",type:"zip",placeholder:"Zip code",value:this.props.location.state.searchParams.zip?this.props.location.state.searchParams.zip:"",className:"form-control"})}),Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsxs)("select",{name:"miles",className:"form-control",value:this.props.location.state.searchParams.miles?this.props.location.state.searchParams.miles:"",children:[Object(s.jsx)("option",{value:"50",children:"50 Miles"}),Object(s.jsx)("option",{value:"100",children:"100 Miles"}),Object(s.jsx)("option",{value:"200",children:"200 Miles"}),Object(s.jsx)("option",{value:"300",children:"300 Miles"}),Object(s.jsx)("option",{value:"400",children:"400 Miles"}),Object(s.jsx)("option",{value:"12450",children:"500+ Miles"})]})})]})]}),Object(s.jsxs)("div",{className:"col-sm-3",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Year"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"yearFrom",type:"text",placeholder:"From",className:"form-control",value:this.props.location.state.searchParams.yearFrom?this.props.location.state.searchParams.yearFrom:""})}),Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"yearTo",type:"text",placeholder:"To",className:"form-control",value:this.props.location.state.searchParams.yearTo?this.props.location.state.searchParams.yearTo:""})})]})]}),Object(s.jsxs)("div",{className:"col-sm-3",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Mileage"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"mileageFrom",type:"text",placeholder:"From",className:"form-control",value:this.props.location.state.searchParams.mileageFrom?this.props.location.state.searchParams.mileageFrom:""})}),Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"mileageTo",type:"text",placeholder:"To",className:"form-control",value:this.props.location.state.searchParams.mileageTo?this.props.location.state.searchParams.mileageTo:""})})]})]}),Object(s.jsxs)("div",{className:"col-sm-3",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Price"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"priceFrom",type:"text",placeholder:"From",className:"form-control",value:this.props.location.state.searchParams.priceFrom?this.props.location.state.searchParams.priceFrom:""})}),Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsx)("input",{name:"priceTo",type:"text",placeholder:"To",className:"form-control",value:this.props.location.state.searchParams.priceTo?this.props.location.state.searchParams.priceTo:""})})]})]}),Object(s.jsxs)("div",{className:"col-sm-3",children:[Object(s.jsx)("label",{className:"form-control-label",children:"Sort"}),Object(s.jsxs)("select",{name:"sort",className:"form-control",onChange:this.resort,children:[Object(s.jsx)("option",{value:"unvervalue_dec",children:"Best Deals First"}),Object(s.jsx)("option",{value:"unvervalue_asc",children:"Best Deals Last"}),Object(s.jsx)("option",{value:"price_dec",children:"Price (High to Low)"}),Object(s.jsx)("option",{value:"price_asc",children:"Price (Low to High)"}),Object(s.jsx)("option",{value:"year_dec",children:"Year (Newest First)"}),Object(s.jsx)("option",{value:"year_asc",children:"Year (Oldest First)"}),Object(s.jsx)("option",{value:"mileage_dec",children:"Mileage (High to Low)"}),Object(s.jsx)("option",{value:"mileage_asc",children:"Mileage (Low to High)"})]})]})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Search",className:"btn btn-primary"})})]})})]}),Object(s.jsx)("div",{className:"row",children:this.state.vehicles.length>0?this.state.vehicles.map((function(e){return Object(s.jsx)(N,{vehicle:{title:e[1].makeYear+" "+e[1].make+" "+e[1].model+(e[1].trim?" "+e[1].trim:""),img:e[1].img,mileage:e[1].mileage,price:e[1].price,undervalue:e[1].undervalue,link:e[1].link}})})):Object(s.jsx)("div",{style:{width:"100%"},children:Object(s.jsx)("h4",{className:"text-center",children:"Loading..."})})})]})}}]),t}(l.a.Component),F=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,34)).then((function(c){var t=c.getCLS,s=c.getFID,a=c.getFCP,l=c.getLCP,r=c.getTTFB;t(e),s(e),a(e),l(e),r(e)}))};i.a.render(Object(s.jsxs)(n.a,{children:[Object(s.jsx)(b,{}),Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)(o.a,{exact:!0,path:"/",component:w}),Object(s.jsx)(o.a,{exact:!0,path:"/search",component:P})]})]}),document.getElementById("root")),F()}},[[33,1,2]]]);
//# sourceMappingURL=main.880d6204.chunk.js.map